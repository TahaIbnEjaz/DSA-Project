<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Quiz System | Main Menu</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
body{height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#1b2a32);background-size:400% 400%;animation:bgMove 14s ease infinite;overflow:hidden;}
.blob{position:absolute;width:260px;height:260px;background:rgba(255,255,255,0.08);border-radius:50%;filter:blur(12px);animation:blobFloat 15s infinite ease-in-out;}
.blob.one{top:-90px;left:-90px;}
.blob.two{bottom:-100px;right:-100px;animation-delay:5s;}
.result-box{background:rgba(255,255,255,0.15);backdrop-filter:blur(18px);width:400px;padding:40px;border-radius:22px;text-align:center;box-shadow:0 25px 50px rgba(0,0,0,0.4);animation:cardReveal 1.4s ease forwards;opacity:0;transform:translateY(40px);}
h2{color:#ffffff;margin-bottom:20px;}
select{width:80%;padding:12px;margin:10px 0;border-radius:12px;border:none;outline:none;font-size:15px;}
.btn{margin:15px 0;padding:13px 36px;border:none;border-radius:30px;background:linear-gradient(135deg,#203a43,#0f2027);color:#fff;cursor:pointer;transition:0.4s;display:block;width:60%;margin-left:auto;margin-right:auto;}
.btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(0,0,0,0.4);}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);backdrop-filter:blur(5px);justify-content:center;align-items:center;z-index:10;}
.modal-content{background:rgba(255,255,255,0.15);backdrop-filter:blur(18px);padding:30px;border-radius:20px;width:350px;text-align:left;color:#fff;box-shadow:0 25px 50px rgba(0,0,0,0.4);animation:cardReveal 0.6s ease forwards;}
.modal-content h3{margin-bottom:15px;}
.modal-content ul{padding-left:20px;}
.close-btn{background:#ff4c4c;border:none;padding:8px 15px;border-radius:12px;cursor:pointer;float:right;color:#fff;font-weight:bold;margin-top:-10px;margin-right:-10px;}
@keyframes bgMove{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
@keyframes blobFloat{0%,100%{transform:translateY(0);}50%{transform:translateY(40px);}}
@keyframes cardReveal{to{opacity:1; transform:translateY(0);}}
</style>
</head>
<body>

<div class="blob one"></div>
<div class="blob two"></div>

<div class="result-box">

    <h2>Main Menu</h2>
    <button class="btn" id="rulesBtn">Rules</button>
    <form action="/Quiz" method="post">
        <select id="courseSelect" name="course" required>
            <option value="" disabled selected>Select Course</option>
        </select>
        <button class="btn" id="startBtn" type="submit">Start Attempt</button>
    </form>
</div>

<div class="modal" id="rulesModal">
    <div class="modal-content">
        <button class="close-btn" id="closeModal">X</button>
        <h3>Quiz Rules</h3>
        <ul>
            <li>Read all questions carefully.</li>
            <li>No negative marking for wrong answers.</li>
            <li>Complete the quiz within the given time.</li>
            <li>Do not refresh or close the page during attempt.</li>
            <li>Each question carries equal marks.</li>
        </ul>
    </div>
</div>

<script>
const rulesBtn = document.getElementById('rulesBtn');
const modal = document.getElementById('rulesModal');
const closeModal = document.getElementById('closeModal');
rulesBtn.addEventListener('click', ()=>modal.style.display="flex");
closeModal.addEventListener('click', ()=>modal.style.display="none");
window.addEventListener('click', e=>{if(e.target===modal) modal.style.display="none";});

const courseSelect = document.getElementById('courseSelect');
const startBtn = document.getElementById('startBtn');

const faculty = localStorage.getItem('selectedFaculty');
const courses = {
    CS: ["DSA","OOP","Networking"],
    BBA: ["Marketing","Accounting","Management"],
    MBBS: ["Pharmacology","Physiology","Anatomy"]
};

if(faculty && courses[faculty]){
    courses[faculty].forEach(c=>{
        const option = document.createElement('option');
        option.value = c;
        option.textContent = c;
        courseSelect.appendChild(option);
    });
}

startBtn.addEventListener('click', ()=>{
    const selectedCourse = courseSelect.value;
    if(!selectedCourse){
        alert("Please select a course first!");
        return;
    }
    localStorage.setItem('selectedCourse', selectedCourse);
    window.location.href = "Quiz";
});
</script>

</body>
</html>
